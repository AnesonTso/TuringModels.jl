

```julia
using TuringModels

Turing.setadbackend(:reverse_diff);
Turing.turnprogress(false);
```

    ‚îå Info: Recompiling stale cache file /Users/rob/.julia/compiled/v1.2/TuringModels/nq4gQ.ji for TuringModels [ead7e11d-4ba5-55c3-9d74-177ea73ef1fd]
    ‚îî @ Base loading.jl:1188


    loaded


    ‚îå Info: [Turing]: global PROGRESS is set as false
    ‚îî @ Turing /Users/rob/.julia/packages/Turing/r03H1/src/Turing.jl:24


Can't really set a Uniform[-Inf,Inf] on œÉ

Turing model


```julia
@model m8_4(y) = begin
    Œ±‚ÇÅ ~ Uniform(-3000, 1000)
    Œ±‚ÇÇ ~ Uniform(-1000, 3000)
    œÉ ~ Truncated(Cauchy(0,1), 0, Inf)

    for i ‚àà 1:length(y)
        y[i] ~ Normal(Œ±‚ÇÅ + Œ±‚ÇÇ, œÉ)
    end
end
```




    m8_4 (generic function with 2 methods)



Observations


```julia
y = rand(Normal(0,1), 100);
```

Sample


```julia
posterior = sample(m8_4(y), Turing.NUTS(4000, 1000, 0.95));
```

    ‚îå Info: [Turing] looking for good initial eps...
    ‚îî @ Turing.Inference /Users/rob/.julia/packages/Turing/r03H1/src/inference/support/hmc_core.jl:240
    ‚îå Warning: Numerical error has been found in gradients.
    ‚îî @ Turing.Core /Users/rob/.julia/packages/Turing/r03H1/src/core/ad.jl:169
    ‚îå Warning: grad = [NaN, NaN, NaN]
    ‚îî @ Turing.Core /Users/rob/.julia/packages/Turing/r03H1/src/core/ad.jl:170
    ‚îå Warning: Numerical error has been found in gradients.
    ‚îî @ Turing.Core /Users/rob/.julia/packages/Turing/r03H1/src/core/ad.jl:169
    ‚îå Warning: grad = [NaN, NaN, NaN]
    ‚îî @ Turing.Core /Users/rob/.julia/packages/Turing/r03H1/src/core/ad.jl:170
    ‚îå Warning: Numerical error has been found in gradients.
    ‚îî @ Turing.Core /Users/rob/.julia/packages/Turing/r03H1/src/core/ad.jl:169
    ‚îå Warning: grad = [NaN, NaN, NaN]
    ‚îî @ Turing.Core /Users/rob/.julia/packages/Turing/r03H1/src/core/ad.jl:170
    ‚îå Warning: Numerical error has been found in gradients.
    ‚îî @ Turing.Core /Users/rob/.julia/packages/Turing/r03H1/src/core/ad.jl:169
    ‚îå Warning: grad = [NaN, NaN, NaN]
    ‚îî @ Turing.Core /Users/rob/.julia/packages/Turing/r03H1/src/core/ad.jl:170
    ‚îå Warning: Numerical error has been found in gradients.
    ‚îî @ Turing.Core /Users/rob/.julia/packages/Turing/r03H1/src/core/ad.jl:169
    ‚îå Warning: grad = [NaN, NaN, NaN]
    ‚îî @ Turing.Core /Users/rob/.julia/packages/Turing/r03H1/src/core/ad.jl:170
    ‚îå Warning: Numerical error has been found in gradients.
    ‚îî @ Turing.Core /Users/rob/.julia/packages/Turing/r03H1/src/core/ad.jl:169
    ‚îå Warning: grad = [NaN, NaN, -99.0000000000002]
    ‚îî @ Turing.Core /Users/rob/.julia/packages/Turing/r03H1/src/core/ad.jl:170
    [NUTS{Turing.Core.FluxTrackerAD,Union{}}] found initial œµ: 0.0015625
    ‚îî @ Turing.Inference /Users/rob/.julia/packages/Turing/r03H1/src/inference/support/hmc_core.jl:235
    ‚îå Info:  Adapted œµ = 0.0012446019552466972, std = [1.0, 1.0, 1.0]; 1000 iterations is used for adaption.
    ‚îî @ Turing.Inference /Users/rob/.julia/packages/Turing/r03H1/src/inference/adapt/adapt.jl:91


    [NUTS] Finished with
      Running time        = 503.2693889070004;
      #lf / sample        = 0.0;
      #evals / sample     = 131.66425;
      pre-cond. metric    = [1.0, 1.0, 1.0].


Fix the inclusion of adaptation samples


```julia
draws = 1001:4000
posterior2 = Chains(posterior[draws,:,:], :parameters)
```




    Object of type Chains, with data of type 3000√ó3√ó1 Array{Union{Missing, Float64},3}
    
    Log evidence      = 0.0
    Iterations        = 1001:4000
    Thinning interval = 1
    Chains            = Chain1
    Samples per chain = 3000
    parameters        = Œ±‚ÇÇ, Œ±‚ÇÅ, œÉ
    
    parameters
          Mean      SD   Naive SE  MCSE     ESS  
    Œ±‚ÇÅ  910.8323 21.9943   0.4016 3.7948  33.5924
    Œ±‚ÇÇ -910.6959 21.9930   0.4015 3.7947  33.5911
     œÉ    1.0401  0.0744   0.0014 0.0069 117.3083
    




Describe the posterior samples


```julia
describe(posterior2)
```

    Log evidence      = 0.0
    Iterations        = 1001:4000
    Thinning interval = 1
    Chains            = Chain1
    Samples per chain = 3000
    parameters        = Œ±‚ÇÇ, Œ±‚ÇÅ, œÉ
    


    ‚îå Warning: `quantile(v::AbstractArray{<:Real})` is deprecated, use `quantile(v, [0.0, 0.25, 0.5, 0.75, 1.0])` instead.
    ‚îÇ   caller = (::getfield(MCMCChains, Symbol("##102#104")){Chains{Union{Missing, Float64},Float64,NamedTuple{(:parameters,),Tuple{Array{String,1}}},NamedTuple{(:hashedsummary,),Tuple{Base.RefValue{Tuple{UInt64,MCMCChains.ChainSummaries}}}}}})(::String) at none:0
    ‚îî @ MCMCChains ./none:0


    [36m[1mEmpirical Posterior Estimates[22m[39m
    ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    parameters
          Mean      SD   Naive SE  MCSE     ESS  
    Œ±‚ÇÅ  910.8323 21.9943   0.4016 3.7948  33.5924
    Œ±‚ÇÇ -910.6959 21.9930   0.4015 3.7947  33.5911
     œÉ    1.0401  0.0744   0.0014 0.0069 117.3083
    
    [36m[1mQuantiles[22m[39m
    ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    parameters
          2.5%     25.0%     50.0%     75.0%     97.5%  
    Œ±‚ÇÅ  859.3251  890.0703  914.4814  929.4525  959.2620
    Œ±‚ÇÇ -958.9285 -929.3161 -914.3284 -890.0230 -859.1671
     œÉ    0.8119    0.9883    1.0315    1.0811    1.3478
    


Results rethinking


```julia
m84rethinking = "
         mean      sd     5.5%   94.5% n_eff Rhat
 a1    -861.15 558.17 -1841.89  -31.04     7 1.43
 a2     861.26 558.17    31.31 1842.00     7 1.43
 sigma    0.97   0.07     0.89    1.09     9 1.17
";
```

*This notebook was generated using [Literate.jl](https://github.com/fredrikekre/Literate.jl).*
